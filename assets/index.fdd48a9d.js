const O=function(){const p=document.createElement("link").relList;if(p&&p.supports&&p.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const i of e)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function d(e){const i={};return e.integrity&&(i.integrity=e.integrity),e.referrerpolicy&&(i.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?i.credentials="include":e.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(e){if(e.ep)return;e.ep=!0;const i=d(e);fetch(e.href,i)}};O();const M=[];function S(r,p,d=()=>{}){const o=document.createElement("div");M.push(o),o.classList.add("menu");for(const e of p){const i=document.createElement("div");e=="separator"?i.classList.add("menu-separator"):(i.classList.add("menu-item"),i.innerHTML=e.text,i.addEventListener("click",s=>{s.stopPropagation(),o.style.display="none",e.event()})),o.appendChild(i)}return document.body.appendChild(o),document.addEventListener("contextmenu",function(e){r.contains(e.target)||(o.style.display="none")}),r.addEventListener("mousedown",e=>{e.button===2&&(e.stopPropagation(),e.preventDefault())}),r.addEventListener("mouseup",e=>{e.button===2&&(e.stopPropagation(),e.preventDefault())}),r.addEventListener("contextmenu",function(e){e.preventDefault(),e.stopPropagation();for(const i of M)i.style.display="none";o.style.display="block",o.style.left=e.x+"px",o.style.top=e.y+"px",d()}),document.addEventListener("click",function(e){o.style.display="none"}),o}const F={folder:["fa-solid","fa-folder","folder-icon","icon"],file:["fa-solid","fa-file","file-icon","icon"]},g=[],N={value:null};function I(r,p,d,o,e={},i){const s=document.createElement("div");s.classList.add("element");const m=document.createElement("div");s.appendChild(m),s.draggable=!0,m.classList.add("sub");const u=document.createElement("i");u.classList.add(...F[d]),m.appendChild(u);const t=document.createElement("div");t.classList.add("element-name"),t.innerText=p;function l(){t.setAttribute("contenteditable",!0),t.draggable=!1,t.classList.add("element-name-edit"),t.focus();const c=document.createRange(),n=window.getSelection();c.selectNodeContents(t),n.removeAllRanges(),n.addRange(c);function f(){t.setAttribute("contenteditable",!1),t.draggable=!0,t.classList.remove("element-name-edit"),document.removeEventListener("mousedown",w),i[o].name=t.innerText}function w(v){t.contains(v.target)||f()}t.addEventListener("keydown",v=>{v.key==="Enter"&&f()}),document.addEventListener("mousedown",w)}m.appendChild(t),r.appendChild(s);const a={element:s,sub:m,index:o,selected:!1,cropped:!1};g.push(a),s.addEventListener("mousedown",c=>{c.stopPropagation()}),s.addEventListener("click",c=>{if(Y)a.selected=!a.selected,s.classList.toggle("element-selected");else{for(const n of g)n.element.classList.remove("element-selected"),n.selected=!1;a.selected=!0,s.classList.add("element-selected")}}),s.addEventListener("dragstart",c=>{if(Y)a.selected=!0,s.classList.add("element-selected");else if(!a.selected){for(const n of g)n.element.classList.remove("element-selected"),n.selected=!1;a.selected=!0,s.classList.add("element-selected")}}),s.addEventListener("dragover",c=>{!a.selected&&d=="folder"&&(N.value={index:o,type:"sibling"},c.preventDefault())}),s.addEventListener("dragleave",c=>{N.value=null}),s.addEventListener("dragend",c=>{N.value!=null&&e.drop(N.value.type,N.value.index,g.filter(n=>n.selected).map(n=>n.index)),N.value=null});var y=!1;s.addEventListener("click",c=>{y&&"open"in e&&e.open(),y=!0,setTimeout(()=>{y=!1},500)}),S(s,[{text:'<span style="color:#0c0"><i class="fa-solid fa-play"></i> Open</span>',event:()=>{"open"in e&&e.open(d)}},{text:'<span style="color:#c00"><i class="fa-solid fa-trash"></i> Delete</span>',event:()=>{"delete"in e&&e.delete(o)}},{text:'<i class="fa-solid fa-pen"></i> Rename',event:()=>{l()}},"separator",{text:'<i class="fa-solid fa-copy"></i> Copy',event:()=>{"copy"in e&&e.copy()}},{text:'<i class="fa-solid fa-cut"></i> Cut',event:()=>{"cut"in e&&e.cut()}}],()=>{if(!a.selected){for(const c of g)c.element.classList.remove("element-selected"),c.selected=!1;a.selected=!0,s.classList.add("element-selected")}})}var Y=!1;document.addEventListener("keydown",r=>{r.key==="Control"&&(Y=!0)});document.addEventListener("keyup",r=>{r.key==="Control"&&(Y=!1)});document.addEventListener("visibilitychange",()=>{document.visibilityState==="visible"&&(Y=!1)});function K(r,p){var d=document.createElement("div");d.classList.add("rectangle"),d.style.display="none",r.appendChild(d);var o=0,e=0,i=0,s=0,m=0,u=0;function t(){d.style.left=i+"px",d.style.top=s+"px",d.style.width=m+"px",d.style.height=u+"px"}var l=!1;function a(y){const{clientX:c,clientY:n}=y;c<o?(i=c,m=o-c):m=c-o,n<e?(s=n,u=e-n):u=n-e,(m>10||u>10)&&(d.style.display="block"),t()}r.addEventListener("mousedown",y=>{if(y.button===0){l=!0,y.preventDefault();const{clientX:c,clientY:n}=y;o=c,e=n,i=c,s=n,m=0,u=0,document.addEventListener("mousemove",a),t()}}),document.addEventListener("mouseup",y=>{if(!l)return;l=!1;const{clientX:c,clientY:n}=y;let f,w,v,h;c>o?(f=o,v=c):(f=c,v=o),n>e?(w=e,h=n):(w=n,h=e),document.removeEventListener("mousemove",a),t(),d.style.display==="block"&&p(f,w,v,h),d.style.display="none"})}const b={source:null,indexes:[],type:null};function R(r,p){var d=!1;document.addEventListener("keydown",t=>{t.key==="Control"&&(d=!0)}),document.addEventListener("keyup",t=>{t.key==="Control"&&(d=!1)}),document.addEventListener("visibilitychange",()=>{document.visibilityState==="visible"&&(d=!1)});var o=!1;document.addEventListener("click",t=>{if(o){o=!1;return}for(const l of g)if(l.element.contains(t.target))return;for(const l of g)l.element.classList.remove("element-selected"),l.selected=!1}),K(r,(t,l,a,y)=>{o=!0;for(const n of g){const f=n.element;var c=f.getBoundingClientRect();const[w,v,h,E]=[c.left,c.top,c.width,c.height];w>a||w+h<t||v>y||v+E<l?d||(n.selected=!1,f.classList.remove("element-selected")):d&&f.classList.contains("element-selected")?(f.classList.remove("element-selected"),n.selected=!1):(f.classList.add("element-selected"),n.selected=!0)}});const e=document.createElement("div");e.classList.add("path-control"),r.appendChild(e);const i=document.createElement("div");r.appendChild(i);const s=[{name:"root",children:p,current:!0}];u(p),m();function m(){e.innerHTML="";for(const t in s){const l=document.createElement("span");l.classList.add("path-item"),l.innerText=s[t].name,l.addEventListener("click",()=>{s.splice(Number(t)+1);for(const a of s)a.current=!1;s[s.length-1].current=!0,u(s[t].children),m()}),s[t].current||(l.addEventListener("dragover",a=>{N.value={type:"route",index:t},a.preventDefault()}),l.addEventListener("dragleave",a=>{N.value=null})),e.appendChild(l)}}function u(t){document.onkeyup=n=>{(n.ctrlKey||n.metaKey)&&(n.key=="x"&&a(),n.key=="c"&&y(),n.key=="v"&&c(),n.key=="a"&&(n.preventDefault(),n.stopPropagation()))},t=t.sort((n,f)=>n.type=="folder"&&f.type=="file"?-1:n.type=="file"&&f.type=="folder"?1:n.name.localeCompare(f.name));const l={folder:n=>{u(n.children),s.push(n);for(const f of s)f.current=!1;s[s.length-1].current=!0,m()},file:n=>alert(n.name)};i.innerHTML="",g.splice(0,g.length);for(const n in t){const f={open:w=>{l[t[n].type](t[n])},delete:w=>{t.splice(w,1),u(t)},copy:()=>{y()},cut:()=>{a()},drop:(w,v,h)=>{var E;w=="sibling"?E=t[v]:E=s[v];for(var x=h.length-1;x>=0;x--){const L=t[h[x]];t.splice(h[x],1),E.children.push(L)}u(t)}};I(i,t[n].name,t[n].type,n,f,t)}S(document.body,[{text:'<i class="fas fa-folder"></i> New Folder',event:()=>{t.push({name:"New Folder",type:"folder",children:[]}),u(t)}},{text:'<i class="fas fa-file"></i> New File',event:()=>{t.push({name:"New File",type:"file"}),u(t)}},"separator",{text:'<i class="fas fa-paste"></i> Paste',event:()=>{c()}}]);function a(){b.source=t,b.type="cut",b.indexes=[];for(const n in g)g[n].selected?(g[n].cropped=!0,g[n].sub.classList.add("element-cropped"),b.indexes.push(n)):(g[n].cropped=!1,g[n].sub.classList.remove("element-cropped"))}function y(){b.source=[],b.type="copy";for(const f in g)g[f].cropped=!1,g[f].sub.classList.remove("element-cropped");for(var n=0;n<g.length;n++)g[n].selected&&b.source.push(t[n])}function c(){if(b.type=="cut"){console.log(b.indexes);for(var n=b.indexes.length-1;n>=0;n--){const f=b.source[b.indexes[n]];b.source.splice(b.indexes[n],1),t.push(f)}u(t)}b.type=="copy"&&(t.push(...JSON.parse(JSON.stringify(b.source))),u(t))}}document.addEventListener("keydown",t=>{debugger;if((t.ctrlKey||t.metaKey)&&t.key=="a"){t.preventDefault(),t.stopPropagation();for(const l of g)l.selected=!0,l.element.classList.add("element-selected")}})}function A(r,p=null){var d=0,o=0,e=0,i=0;const s=p||r;s.onmousedown=m,s.style.cursor="move";function m(l){l.button===0&&(l=l||window.event,l.preventDefault(),e=l.clientX,i=l.clientY,document.onmouseup=t,document.onmousemove=u)}function u(l){l=l||window.event,l.preventDefault(),d=e-l.clientX,o=i-l.clientY,e=l.clientX,i=l.clientY,r.style.top=r.offsetTop-o+"px",r.style.left=r.offsetLeft-d+"px"}function t(){document.onmouseup=null,document.onmousemove=null}}function _(r,p=100,d=100,o=20){const e=document.createElement("div");e.style.width="100%",e.style.height=o+"px",e.style.backgroundColor="transparent",e.style.position="absolute",e.style.top=-(o/2)+"px",e.style.left="0px",e.style.cursor="n-resize",e.addEventListener("mousedown",w()),r.appendChild(e);const i=document.createElement("div");i.style.width="100%",i.style.height=o+"px",i.style.backgroundColor="transparent",i.style.position="absolute",i.style.bottom=-(o/2)+"px",i.style.left="0px",i.style.cursor="n-resize",i.addEventListener("mousedown",n()),r.appendChild(i);const s=document.createElement("div");s.style.width=o+"px",s.style.height="100%",s.style.backgroundColor="transparent",s.style.position="absolute",s.style.top="0px",s.style.left=-(o/2)+"px",s.style.cursor="e-resize",s.addEventListener("mousedown",f()),r.appendChild(s);const m=document.createElement("div");m.style.width=o+"px",m.style.height="100%",m.style.backgroundColor="transparent",m.style.position="absolute",m.style.top="0px",m.style.right=-(o/2)+"px",m.style.cursor="e-resize",m.addEventListener("mousedown",c()),r.appendChild(m);const u=document.createElement("div");u.style.width=o+"px",u.style.height=o+"px",u.style.backgroundColor="transparent",u.style.position="absolute",u.style.top=-(o/2)+"px",u.style.left=-(o/2)+"px",u.style.cursor="nw-resize",u.addEventListener("mousedown",f()),u.addEventListener("mousedown",w()),r.appendChild(u);const t=document.createElement("div");t.style.width=o+"px",t.style.height=o+"px",t.style.backgroundColor="transparent",t.style.position="absolute",t.style.top=-(o/2)+"px",t.style.right=-(o/2)+"px",t.style.cursor="ne-resize",t.addEventListener("mousedown",c()),t.addEventListener("mousedown",w()),r.appendChild(t);const l=document.createElement("div");l.style.width=o+"px",l.style.height=o+"px",l.style.backgroundColor="transparent",l.style.position="absolute",l.style.bottom=-(o/2)+"px",l.style.left=-(o/2)+"px",l.style.cursor="sw-resize",l.addEventListener("mousedown",f()),l.addEventListener("mousedown",n()),r.appendChild(l);const a=document.createElement("div");a.style.width=o+"px",a.style.height=o+"px",a.style.backgroundColor="transparent",a.style.position="absolute",a.style.bottom=-(o/2)+"px",a.style.right=-(o/2)+"px",a.style.cursor="se-resize",a.addEventListener("mousedown",c()),a.addEventListener("mousedown",n()),r.appendChild(a);function y(v){return parseInt(window.getComputedStyle(r).getPropertyValue(v))}function c(){let v;function h(L){if(L.button!==0)return;L=L||window.event,L.preventDefault();const{clientX:k}=L;v=k-r.offsetLeft-y("width"),document.addEventListener("mouseup",x),document.addEventListener("mousemove",E)}function E(L){const{clientX:k}=L;let D=k-r.offsetLeft-v;D<p&&(D=p),r.style.width=D+"px"}function x(){document.removeEventListener("mouseup",x),document.removeEventListener("mousemove",E)}return h}function n(){let v;function h(L){if(L.button!==0)return;L=L||window.event,L.preventDefault();const{clientY:k}=L;v=k-r.offsetTop-y("height"),document.addEventListener("mouseup",x),document.addEventListener("mousemove",E)}function E(L){const{clientY:k}=L;let D=k-r.offsetTop-v;D<d&&(D=d),r.style.height=D+"px"}function x(){document.removeEventListener("mouseup",x),document.removeEventListener("mousemove",E)}return h}function f(){let v,h,E,x;function L(C){if(C.button!==0)return;C=C||window.event,C.preventDefault();const{clientX:T}=C;h=y("left"),E=y("width"),v=T-h,x=h+E-p,document.addEventListener("mouseup",D),document.addEventListener("mousemove",k)}function k(C){const{clientX:T}=C;let P=T-v,X=E+h-P;X<p&&(X=p),P>x&&(P=x),r.style.left=P+"px",r.style.width=X+"px"}function D(){document.removeEventListener("mouseup",D),document.removeEventListener("mousemove",k)}return L}function w(){let v,h,E,x;function L(C){if(C.button!==0)return;C=C||window.event,C.preventDefault();const{clientY:T}=C;h=y("top"),E=y("height"),v=T-h,x=h+E-d,document.addEventListener("mouseup",D,!1),document.addEventListener("mousemove",k,!1)}function k(C){const{clientY:T}=C;let P=T-v,X=E+h-P;X<d&&(X=d),P>x&&(P=x),r.style.top=P+"px",r.style.height=X+"px"}function D(){document.removeEventListener("mouseup",D),document.removeEventListener("mousemove",k)}return L}}function $(r){const p=document.createElement("div");p.onselectstart=()=>!1,p.classList.add("window");const d=document.createElement("div");d.classList.add("header"),p.appendChild(d);const o=document.createElement("div");o.classList.add("title"),o.innerHTML=r,d.appendChild(o);const e=document.createElement("div");e.classList.add("nav-button"),e.innerHTML="\xD7",e.addEventListener("click",()=>{p.remove()}),e.addEventListener("mousedown",s=>{s.stopPropagation()}),d.appendChild(e);const i=document.createElement("div");return p.appendChild(i),i.classList.add("content"),A(p,d),_(p),document.body.appendChild(p),i}const H=[{name:"folder1",type:"folder",children:[{name:"folder2",type:"folder",children:[{name:"my file",type:"file"}]},{name:"file1",type:"file"},{name:"file2",type:"file"}]},{name:"folder2",type:"folder",children:[{name:"file3",type:"file"},{name:"file4",type:"file"}]},{name:"file5",type:"file"}];R($("My Window"),H);
