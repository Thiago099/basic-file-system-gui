const O=function(){const f=document.createElement("link").relList;if(f&&f.supports&&f.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const r of t.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function c(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?t.credentials="include":e.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function n(e){if(e.ep)return;e.ep=!0;const t=c(e);fetch(e.href,t)}};O();const M=[];function S(i,f,c=()=>{}){const n=document.createElement("div");M.push(n),n.classList.add("menu");for(const e of f){const t=document.createElement("div");e=="separator"?t.classList.add("menu-separator"):(t.classList.add("menu-item"),t.innerHTML=e.text,t.addEventListener("click",r=>{r.stopPropagation(),n.style.display="none",e.event()})),n.appendChild(t)}return document.body.appendChild(n),document.addEventListener("contextmenu",function(e){i.contains(e.target)||(n.style.display="none")}),i.addEventListener("mousedown",e=>{e.button===2&&(e.stopPropagation(),e.preventDefault())}),i.addEventListener("mouseup",e=>{e.button===2&&(e.stopPropagation(),e.preventDefault())}),i.addEventListener("contextmenu",function(e){e.preventDefault(),e.stopPropagation();for(const t of M)t.style.display="none";n.style.display="block",n.style.left=e.x+"px",n.style.top=e.y+"px",c()}),document.addEventListener("click",function(e){n.style.display="none"}),n}const F={folder:["fa-solid","fa-folder","folder-icon","icon"],file:["fa-solid","fa-file","file-icon","icon"]},g=[],X={value:null};function I(i,f,c,n,e={}){const t=document.createElement("div");t.classList.add("element");const r=document.createElement("div");t.appendChild(r),t.draggable=!0,r.classList.add("sub");const v=document.createElement("i");v.classList.add(...F[c]),r.appendChild(v);const d=document.createElement("div");d.classList.add("element-name"),d.innerText=f;function s(){d.setAttribute("contenteditable",!0),d.draggable=!1,d.classList.add("element-name-edit"),d.focus(),document.execCommand("selectAll",!1,null);function u(a){d.contains(a.target)||(d.setAttribute("contenteditable",!1),d.draggable=!0,d.classList.remove("element-name-edit")),document.removeEventListener("mousedown",u)}document.addEventListener("mousedown",u)}r.appendChild(d),i.appendChild(t);const l={element:t,sub:r,index:n,selected:!1,cropped:!1};g.push(l),t.addEventListener("mousedown",u=>{u.stopPropagation()}),t.addEventListener("click",u=>{if(T)l.selected=!l.selected,t.classList.toggle("element-selected");else{for(const a of g)a.element.classList.remove("element-selected"),a.selected=!1;l.selected=!0,t.classList.add("element-selected")}}),t.addEventListener("dragstart",u=>{if(T)l.selected=!0,t.classList.add("element-selected");else if(!l.selected){for(const a of g)a.element.classList.remove("element-selected"),a.selected=!1;l.selected=!0,t.classList.add("element-selected")}}),t.addEventListener("dragover",u=>{!l.selected&&c=="folder"&&(X.value={index:n,type:"sibling"},u.preventDefault())}),t.addEventListener("dragleave",u=>{X.value=null}),t.addEventListener("dragend",u=>{X.value!=null&&e.drop(X.value.type,X.value.index,g.filter(a=>a.selected).map(a=>a.index)),X.value=null});var p=!1;t.addEventListener("click",u=>{p&&"open"in e&&e.open(),p=!0,setTimeout(()=>{p=!1},500)}),S(t,[{text:'<span style="color:#0c0"><i class="fa-solid fa-play"></i> Open</span>',event:()=>{"open"in e&&e.open(c)}},{text:'<span style="color:#c00"><i class="fa-solid fa-trash"></i> Delete</span>',event:()=>{"delete"in e&&e.delete(n)}},{text:'<i class="fa-solid fa-pen"></i> Rename',event:()=>{"rename"in e&&s()}},"separator",{text:'<i class="fa-solid fa-copy"></i> Copy',event:()=>{"copy"in e&&e.copy()}},{text:'<i class="fa-solid fa-cut"></i> Cut',event:()=>{"cut"in e&&e.cut()}}],()=>{if(!l.selected){for(const u of g)u.element.classList.remove("element-selected"),u.selected=!1;l.selected=!0,t.classList.add("element-selected")}})}var T=!1;document.addEventListener("keydown",i=>{i.key==="Control"&&(T=!0)});document.addEventListener("keyup",i=>{i.key==="Control"&&(T=!1)});document.addEventListener("visibilitychange",()=>{document.visibilityState==="visible"&&(T=!1)});function A(i,f){var c=document.createElement("div");c.classList.add("rectangle"),c.style.display="none",i.appendChild(c);var n=0,e=0,t=0,r=0,v=0,d=0;function s(){c.style.left=t+"px",c.style.top=r+"px",c.style.width=v+"px",c.style.height=d+"px"}var l=!1;function p(u){const{clientX:a,clientY:o}=u;a<n?(t=a,v=n-a):v=a-n,o<e?(r=o,d=e-o):d=o-e,(v>10||d>10)&&(c.style.display="block"),s()}i.addEventListener("mousedown",u=>{if(u.button===0){l=!0,u.preventDefault();const{clientX:a,clientY:o}=u;n=a,e=o,t=a,r=o,v=0,d=0,document.addEventListener("mousemove",p),s()}}),document.addEventListener("mouseup",u=>{if(!l)return;l=!1;const{clientX:a,clientY:o}=u;let m,b,y,h;a>n?(m=n,y=a):(m=a,y=n),o>e?(b=e,h=o):(b=o,h=e),document.removeEventListener("mousemove",p),s(),c.style.display==="block"&&f(m,b,y,h),c.style.display="none"})}const w={source:null,indexes:[],type:null};function _(i,f){var c=!1;document.addEventListener("keydown",s=>{s.key==="Control"&&(c=!0)}),document.addEventListener("keyup",s=>{s.key==="Control"&&(c=!1)}),document.addEventListener("visibilitychange",()=>{document.visibilityState==="visible"&&(c=!1)});var n=!1;document.addEventListener("click",s=>{if(n){n=!1;return}for(const l of g)if(l.element.contains(s.target))return;for(const l of g)l.element.classList.remove("element-selected"),l.selected=!1}),A(i,(s,l,p,u)=>{n=!0;for(const o of g){const m=o.element;var a=m.getBoundingClientRect();const[b,y,h,E]=[a.left,a.top,a.width,a.height];b>p||b+h<s||y>u||y+E<l?c||(o.selected=!1,m.classList.remove("element-selected")):c&&m.classList.contains("element-selected")?(m.classList.remove("element-selected"),o.selected=!1):(m.classList.add("element-selected"),o.selected=!0)}});const e=document.createElement("div");e.classList.add("path-control"),i.appendChild(e);const t=document.createElement("div");i.appendChild(t);const r=[{name:"root",children:f,current:!0}];d(f),v();function v(){e.innerHTML="";for(const s in r){const l=document.createElement("span");l.classList.add("path-item"),l.innerText=r[s].name,l.addEventListener("click",()=>{r.splice(Number(s)+1);for(const p of r)p.current=!1;r[r.length-1].current=!0,d(r[s].children),v()}),r[s].current||(l.addEventListener("dragover",p=>{X.value={type:"route",index:s},p.preventDefault()}),l.addEventListener("dragleave",p=>{X.value=null})),e.appendChild(l)}}function d(s){document.onkeyup=o=>{(o.ctrlKey||o.metaKey)&&(o.key=="x"&&p(),o.key=="c"&&u(),o.key=="v"&&a(),o.key=="a"&&(o.preventDefault(),o.stopPropagation()))},s=s.sort((o,m)=>o.type=="folder"&&m.type=="file"?-1:o.type=="file"&&m.type=="folder"?1:o.name.localeCompare(m.name));const l={folder:o=>{d(o.children),r.push(o);for(const m of r)m.current=!1;r[r.length-1].current=!0,v()},file:o=>alert(o.name)};t.innerHTML="",g.splice(0,g.length);for(const o in s){const m={open:b=>{l[s[o].type](s[o])},delete:b=>{s.splice(b,1),d(s)},copy:()=>{u()},cut:()=>{p()},drop:(b,y,h)=>{var E;b=="sibling"?E=s[y]:E=r[y];for(var x=h.length-1;x>=0;x--){const L=s[h[x]];s.splice(h[x],1),E.children.push(L)}d(s)}};I(t,s[o].name,s[o].type,o,m)}S(document.body,[{text:'<i class="fas fa-folder"></i> New Folder',event:()=>{s.push({name:"New Folder",type:"folder",children:[]}),d(s)}},{text:'<i class="fas fa-file"></i> New File',event:()=>{s.push({name:"New File",type:"file"}),d(s)}},"separator",{text:'<i class="fas fa-paste"></i> Paste',event:()=>{a()}}]);function p(){w.source=s,w.type="cut",w.indexes=[];for(const o in g)g[o].selected?(g[o].cropped=!0,g[o].sub.classList.add("element-cropped"),w.indexes.push(o)):(g[o].cropped=!1,g[o].sub.classList.remove("element-cropped"))}function u(){w.source=[],w.type="copy";for(const m in g)g[m].cropped=!1,g[m].sub.classList.remove("element-cropped");for(var o=0;o<g.length;o++)g[o].selected&&w.source.push(s[o])}function a(){if(w.type=="cut"){console.log(w.indexes);for(var o=w.indexes.length-1;o>=0;o--){const m=w.source[w.indexes[o]];w.source.splice(w.indexes[o],1),s.push(m)}d(s)}w.type=="copy"&&(s.push(...JSON.parse(JSON.stringify(w.source))),d(s))}}}function $(i,f=null){var c=0,n=0,e=0,t=0;const r=f||i;r.onmousedown=v,r.style.cursor="move";function v(l){l.button===0&&(l=l||window.event,l.preventDefault(),e=l.clientX,t=l.clientY,document.onmouseup=s,document.onmousemove=d)}function d(l){l=l||window.event,l.preventDefault(),c=e-l.clientX,n=t-l.clientY,e=l.clientX,t=l.clientY,i.style.top=i.offsetTop-n+"px",i.style.left=i.offsetLeft-c+"px"}function s(){document.onmouseup=null,document.onmousemove=null}}function H(i,f=100,c=100,n=20){const e=document.createElement("div");e.style.width="100%",e.style.height=n+"px",e.style.backgroundColor="transparent",e.style.position="absolute",e.style.top=-(n/2)+"px",e.style.left="0px",e.style.cursor="n-resize",e.addEventListener("mousedown",b()),i.appendChild(e);const t=document.createElement("div");t.style.width="100%",t.style.height=n+"px",t.style.backgroundColor="transparent",t.style.position="absolute",t.style.bottom=-(n/2)+"px",t.style.left="0px",t.style.cursor="n-resize",t.addEventListener("mousedown",o()),i.appendChild(t);const r=document.createElement("div");r.style.width=n+"px",r.style.height="100%",r.style.backgroundColor="transparent",r.style.position="absolute",r.style.top="0px",r.style.left=-(n/2)+"px",r.style.cursor="e-resize",r.addEventListener("mousedown",m()),i.appendChild(r);const v=document.createElement("div");v.style.width=n+"px",v.style.height="100%",v.style.backgroundColor="transparent",v.style.position="absolute",v.style.top="0px",v.style.right=-(n/2)+"px",v.style.cursor="e-resize",v.addEventListener("mousedown",a()),i.appendChild(v);const d=document.createElement("div");d.style.width=n+"px",d.style.height=n+"px",d.style.backgroundColor="transparent",d.style.position="absolute",d.style.top=-(n/2)+"px",d.style.left=-(n/2)+"px",d.style.cursor="nw-resize",d.addEventListener("mousedown",m()),d.addEventListener("mousedown",b()),i.appendChild(d);const s=document.createElement("div");s.style.width=n+"px",s.style.height=n+"px",s.style.backgroundColor="transparent",s.style.position="absolute",s.style.top=-(n/2)+"px",s.style.right=-(n/2)+"px",s.style.cursor="ne-resize",s.addEventListener("mousedown",a()),s.addEventListener("mousedown",b()),i.appendChild(s);const l=document.createElement("div");l.style.width=n+"px",l.style.height=n+"px",l.style.backgroundColor="transparent",l.style.position="absolute",l.style.bottom=-(n/2)+"px",l.style.left=-(n/2)+"px",l.style.cursor="sw-resize",l.addEventListener("mousedown",m()),l.addEventListener("mousedown",o()),i.appendChild(l);const p=document.createElement("div");p.style.width=n+"px",p.style.height=n+"px",p.style.backgroundColor="transparent",p.style.position="absolute",p.style.bottom=-(n/2)+"px",p.style.right=-(n/2)+"px",p.style.cursor="se-resize",p.addEventListener("mousedown",a()),p.addEventListener("mousedown",o()),i.appendChild(p);function u(y){return parseInt(window.getComputedStyle(i).getPropertyValue(y))}function a(){let y;function h(L){if(L.button!==0)return;L=L||window.event,L.preventDefault();const{clientX:k}=L;y=k-i.offsetLeft-u("width"),document.addEventListener("mouseup",x),document.addEventListener("mousemove",E)}function E(L){const{clientX:k}=L;let D=k-i.offsetLeft-y;D<f&&(D=f),i.style.width=D+"px"}function x(){document.removeEventListener("mouseup",x),document.removeEventListener("mousemove",E)}return h}function o(){let y;function h(L){if(L.button!==0)return;L=L||window.event,L.preventDefault();const{clientY:k}=L;y=k-i.offsetTop-u("height"),document.addEventListener("mouseup",x),document.addEventListener("mousemove",E)}function E(L){const{clientY:k}=L;let D=k-i.offsetTop-y;D<c&&(D=c),i.style.height=D+"px"}function x(){document.removeEventListener("mouseup",x),document.removeEventListener("mousemove",E)}return h}function m(){let y,h,E,x;function L(C){if(C.button!==0)return;C=C||window.event,C.preventDefault();const{clientX:Y}=C;h=u("left"),E=u("width"),y=Y-h,x=h+E-f,document.addEventListener("mouseup",D),document.addEventListener("mousemove",k)}function k(C){const{clientX:Y}=C;let P=Y-y,N=E+h-P;N<f&&(N=f),P>x&&(P=x),i.style.left=P+"px",i.style.width=N+"px"}function D(){document.removeEventListener("mouseup",D),document.removeEventListener("mousemove",k)}return L}function b(){let y,h,E,x;function L(C){if(C.button!==0)return;C=C||window.event,C.preventDefault();const{clientY:Y}=C;h=u("top"),E=u("height"),y=Y-h,x=h+E-c,document.addEventListener("mouseup",D,!1),document.addEventListener("mousemove",k,!1)}function k(C){const{clientY:Y}=C;let P=Y-y,N=E+h-P;N<c&&(N=c),P>x&&(P=x),i.style.top=P+"px",i.style.height=N+"px"}function D(){document.removeEventListener("mouseup",D),document.removeEventListener("mousemove",k)}return L}}function K(i){const f=document.createElement("div");f.onselectstart=()=>!1,f.classList.add("window");const c=document.createElement("div");c.classList.add("header"),f.appendChild(c);const n=document.createElement("div");n.classList.add("title"),n.innerHTML=i,c.appendChild(n);const e=document.createElement("div");e.classList.add("nav-button"),e.innerHTML="\xD7",e.addEventListener("click",()=>{f.remove()}),e.addEventListener("mousedown",r=>{r.stopPropagation()}),c.appendChild(e);const t=document.createElement("div");return f.appendChild(t),t.classList.add("content"),$(f,c),H(f),document.body.appendChild(f),t}const B=[{name:"folder1",type:"folder",children:[{name:"folder2",type:"folder",children:[{name:"my file",type:"file"}]},{name:"file1",type:"file"},{name:"file2",type:"file"}]},{name:"folder2",type:"folder",children:[{name:"file3",type:"file"},{name:"file4",type:"file"}]},{name:"file5",type:"file"}];_(K("My Window"),B);
